```mermaid
graph TD
    %% 定义样式
    classDef frozen fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#01579b;
    classDef trainable fill:#fff3e0,stroke:#ff6f00,stroke-width:4px,color:#d84315;
    classDef output fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;

    %% ---------------- 输入部分 ----------------
    subgraph INPUTS [输入模态]
        direction LR
        Img[RGB 图像]
        PC[点云 PointCloud]
    end

    %% ---------------- 冻结的主干 (Original Baseline) ----------------
    subgraph FROZEN_BACKBONE [FROZEN BASELINE (冻结主干)]
        direction TB
        ImgEnc[Image Encoder<br/>Swin/ViT]:::frozen
        PCEnc[CloudPoint Encoder<br/>PointTransformerV3]:::frozen
        
        Fusion[CrossAttention Feature<br/>CrossModalFusion + TokenAggregator]:::frozen
        
        BaseHead[原 Pose 回归头<br/>Base 6DoF Head]:::frozen
    end

    %% ---------------- 可训练的分支 (New Delta Branch) ----------------
    subgraph TRAINABLE_MODULE [TRAINABLE ADAPTER (可训练适配层)]
        direction TB
        note1(输入为融合后的特征 F)
        
        DeltaNet["Delta Pose Network<br/>(MLP / LoRA Adapter)"]:::trainable
        
        note2(建议最后一层做 0 初始化<br/>Zero-Init)
    end

    %% ---------------- 融合与输出 ----------------
    subgraph FUSION [最终输出]
        Sum((+)):::output
        FinalOut[最终 Pose<br/>Refined 6DoF Output]:::output
    end

    %% ---------------- 连线逻辑 ----------------
    Img --> ImgEnc
    PC --> PCEnc

    ImgEnc --> Fusion
    PCEnc --> Fusion

    %% ===> 核心：从特征层引出分支 <===
    Fusion == "High-Dim Feature F<br/>(含语义+几何)" ==> BaseHead
    Fusion == "Copy Feature F<br/>(不反向传播梯度到主干)" ==> DeltaNet

    %% 输出计算
    BaseHead --"P_base"--> Sum
    DeltaNet --"d_pose (∆t, ∆R)"--> Sum
    
    Sum --> FinalOut
    
    %% 布局调整连接
    note1 -.- DeltaNet
    DeltaNet -.- note2

```